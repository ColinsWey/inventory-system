# Nginx Port Fix Report

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –ò–°–ü–†–ê–í–õ–ï–ù–ê!

### –ü—Ä–æ–±–ª–µ–º–∞
Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—ã–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```nginx
listen 3000;  # ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û –¥–ª—è Docker
```

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
–í Docker Compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ `"3000:80"`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- **3000** - –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç (–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Ö–æ—Å—Ç–µ)
- **80** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)

Nginx –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç 80!

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω nginx.conf
**–î–æ:**
```nginx
server {
    listen 3000;  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è Docker
    ...
}
```

**–ü–æ—Å–ª–µ:**
```nginx
server {
    listen 80;    # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è Docker
    ...
}
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Dockerfile
**–î–æ:**
```dockerfile
EXPOSE 3000  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

**–ü–æ—Å–ª–µ:**
```dockerfile
EXPOSE 80    # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

## Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤
```yaml
services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: inventory_frontend
    ports:
      - "3000:80"  # –í–Ω–µ—à–Ω–∏–π:–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π
    depends_on:
      - backend
    restart: unless-stopped
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `3000` - –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ (localhost:3000)
- `80` - –ø–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (nginx —Å–ª—É—à–∞–µ—Ç)

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ä—Ç–æ–≤

```
–•–æ—Å—Ç (localhost)     Docker Container
     ‚Üì                       ‚Üì
   :3000        ‚Üí        nginx :80
```

### ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up --build

# –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
curl http://localhost:3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec inventory_frontend nginx -t
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx.conf
grep "listen" frontend/nginx.conf
# –†–µ–∑—É–ª—å—Ç–∞—Ç: listen 80;

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Dockerfile
grep "EXPOSE" frontend/Dockerfile  
# –†–µ–∑—É–ª—å—Ç–∞—Ç: EXPOSE 80

# –ü—Ä–æ–≤–µ—Ä–∫–∞ docker-compose.yml
grep -A1 "ports:" docker-compose.yml
# –†–µ–∑—É–ª—å—Ç–∞—Ç: - "3000:80"
```

## –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### nginx.conf (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
```nginx
server {
    listen 80;                    # ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è nginx
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
}
```

### Dockerfile (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
```dockerfile
FROM nginx:alpine
COPY --from=build /app/build /usr/share/nginx/html
COPY nginx.conf /etc/nginx/conf.d/default.conf
EXPOSE 80                         # ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç –¥–ª—è nginx
CMD ["nginx", "-g", "daemon off;"]
```

### docker-compose.yml (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```yaml
frontend:
  ports:
    - "3000:80"                   # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞** - nginx –æ–±—ã—á–Ω–æ —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ Docker orchestrators
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –≤ docker-compose
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã

**üöÄ Frontend Nginx Port –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–ª—è Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è!**

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞
docker-compose up --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl http://localhost:3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ nginx –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec inventory_frontend curl http://localhost:80
``` 